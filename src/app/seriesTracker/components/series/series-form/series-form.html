@let season=series.season; @let episode=series.episode; @let name=series.name;
@let hours=series.watchTime?.hours; @let minutes=series.watchTime?.minutes; @let
seconds=series.watchTime?.seconds; @let watched=series.watched; @let
type=series.type; @let genre=series.genre;
<form
  class="series"
  [ngClass]="{
    even: even,
    odd: !even
  }"
  [formGroup]="seriesForm"
  (ngSubmit)="save()"
>
  <div class="series__data">
    <div class="series__data__field">
      <label>Name:</label>
      <input class="form-control" type="text" formControlName="name" />
    </div>
    <div class="series__data__field">
      <label>Season:</label>
      <input
        class="form-control"
        type="number"
        min="0"
        [value]="season"
        formControlName="season"
        required
      />
    </div>
    <div class="series__data__field">
      <label>Episode:</label>
      <input
        class="form-control"
        type="number"
        min="0"
        [value]="episode"
        formControlName="episode"
        required
      />
    </div>
    <div class="series__data__field">
      <label>Watched:</label>
      <select class="form-select" formControlName="watched">
        <option value="true">true</option>
        <option value="false">false</option>
      </select>
    </div>
    <div class="series__data__field form-check form-switch">
      <label>WatchTime:</label>
      <input
        type="checkbox"
        class="form-check-input"
        [checked]="showWatchTime"
        (click)="toggleShowWatchTime()"
      />
    </div>
    <div
      [ngClass]="{
        'watch-time': true,
        'watch-time--show': showWatchTime
      }"
    >
      <div class="watch-time__field">
        Hours<input
          class="form-control"
          type="number"
          [value]="hours ?? 0"
          min="0"
          max="23"
          formControlName="hours"
        />
      </div>
      <div class="watch-time__field">
        Minutes<input
          class="form-control"
          type="number"
          [value]="minutes ?? 0"
          min="0"
          max="59"
          formControlName="minutes"
        />
      </div>
      <div class="watch-time__field">
        Seconds<input
          class="form-control"
          type="number"
          [value]="seconds ?? 0"
          min="0"
          max="59"
          formControlName="seconds"
        />
      </div>
    </div>
    <div class="series__data__field">
      Type
      <select class="form-select" formControlName="type">
        <option value="">Choose type</option>
        <option value="movie">movie</option>
        <option value="series">series</option>
      </select>
    </div>
    <div class="series__data__field">
      Genre
      <select class="form-select" formControlName="genre">
        <option value="">Choose genre</option>
        <option value="anime">anime</option>
        <option value="donghua">donghua</option>
        <option value="cartoon">cartoon</option>
      </select>
    </div>
    <div class="series__data__field">
      <div>tags:</div>
      <add-tag [tagNames]="tagNames" (addNewTag)="tagNames = $event"></add-tag>
    </div>
    <div class="series__tags">
      @for(tagName of tagNames; track tagName){
      <tag
        [tagName]="tagName"
        [changeMode]="true"
        (tagRemoved)="removeTag($event)"
      ></tag>
      }
    </div>
  </div>
  <div class="series__buttons">
    <input
      type="button"
      class="btn btn-danger"
      (click)="delete()"
      value=" Delete"
    />
    <input
      type="button"
      class="btn btn-secondary"
      (click)="cancelChanges()"
      value="Cancel"
    />
    <input type="submit" class="btn btn-success" value="Save" />
  </div>
</form>
